{% extends "base.html" %}

{% block title %}{{ page.title }} - {{ config.title }}{% endblock %}

{% block content %}
<h1>{{ page.title }}</h1>

<p id="event-date" style="font-size: 1.2em; color: #FF0000; font-weight: bold;" 
   data-schedule="{{ page.extra.schedule | default(value='') }}">
    {{ page.date | date(locale="pl_PL", format="%A, %-d %B %Y") }}
</p>

{{ page.content | safe }}

{% if page.extra.schedule %}
<script src="/recurring-events.js"></script>
<script>
    const dateEl = document.getElementById('event-date');
    const schedule = dateEl.getAttribute('data-schedule');
    if (schedule) {
        const formatted = formatRecurringDate(schedule);
        dateEl.textContent = formatted;
    }
</script>
{% endif %}
{% endblock %}
